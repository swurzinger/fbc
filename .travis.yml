language: c

install:
  # download latest fbc release in /home/travis/build/<user>/<repo>/fb.tar.gz
  - wget -O fb.tar.gz --user-agent="WGet (Linux i686)" http://sourceforge.net/projects/fbc/files/latest/download
  - tar zxf fb.tar.gz
  # install fbc in /home/travis/fbc
  - mkdir ~/fbc
  - cd FreeBASIC-*-linux-x86
  - ./install.sh -i ~/fbc
  - cd ..
  # install dependencies
  # sudo apt-get install libncurses5-dev libstdc++6 build-essential libX11-dev libXext-dev libXpm-dev libXrender-dev libXrandr-dev libgpm-dev
  - sudo apt-get update -qq
  - if [ `uname -m` = x86_64 ]; then sudo apt-get install -qq --force-yes ia32-libs ia32-libs-multiarch; fi
  - sudo apt-get install lib32ncurses5-dev
  - sudo apt-get install libx11-dev:i386 libxext-dev:i386 libxrender-dev:i386 libxpm-dev:i386 libxrandr-dev:i386 libgpm-dev:i386 libffi-dev:i386 libgl1-mesa-dev
script:
  - ~/fbc/bin/fbc --version
  - make FBC=/home/travis/fbc/bin/fbc
branches:
  only:
    - master
compiler:
  - gcc
notifications:
  email: false